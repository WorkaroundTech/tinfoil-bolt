services:
  tinfoil-bolt:
    image: tinfoil-bolt
    container_name: tinfoil-bolt
    build: .
    restart: unless-stopped
    ports:
      - "${PORT:-3000}:${PORT:-3000}"
    environment:
      # Override GAMES_DIRS for container - mapped to /data/games1, /data/games2, etc.
      # Add as many /data/gamesN paths as you have volume mounts below
      - GAMES_DIRS=/data/games1,/data/games2
      # Other vars loaded from .env
      - PORT=${PORT:-3000}
      - CACHE_TTL=${CACHE_TTL:-300}
      - SUCCESS_MESSAGE=${SUCCESS_MESSAGE}
      - LOG_FORMAT=${LOG_FORMAT:-short}
      - AUTH_USER=${AUTH_USER}
      - AUTH_PASS=${AUTH_PASS}
      - AUTH_CREDENTIALS=${AUTH_CREDENTIALS}
    volumes:
      # Mount your actual game directories (from host) to /data/games1, /data/games2, etc.
      # Update the left side with your real paths, keep the right side as /data/gamesN
      - /mnt/nas/switch_games:/data/games1:ro
      - /mnt/usb/switch_games:/data/games2:ro
